# Cybex使用手册

## 共识和区块链治理

### 共识机制

共识，从字面理解就是"共同的认识"。共识机制可以确保群体（或组织）在需要进行决策或采取行动时，群体（或组织）成员将会自发、诚实地遵循既定规则执行。

在中心化的组织结构中，只有少数人可以参与规则的制定，绝大部分成员只需要服从。比如，一个公司在年底要发年终奖，老板和各部门主管讨论后，决定根据当年的绩效考核结果发放：考核成绩为A的，年终奖为月薪的100%，B的为75%，C的为50%，D的则没有。这就是一个中心化的决策过程，所有员工最终会按照这个规则获得奖金。如果同样的问题发生在去中心化的组织中，由于各个参与方都是平等的，股东可以跟老板、部门主管一起讨论如何发放，那结果就可能会是考核为D的股东也有30%的奖金。这种协商后达成的规则统一，也是一种共识机制。

区块链作为一种按时间顺序存储数据的数据结构，可以支持不同的共识机制。因此，从本质上讲，区块链技术就是一种实现分布式共识的数学算法。

### 去中心化自治机构

去中心化自治机构（DAC），是一种可以在没有人为干预的情况下，按照一定业务规则自主运行的组织结构。任何人都可以持有这个机构的"股份"或者通过为这个机构工作获得"股份"，同时，所有持股人可以通过投票决定这个机构的经营方向，参与它的成长并且从中获利。

Cybex就是一个去中心化自治机构，它通过BitShares及其底层石墨烯升级而成的区块链技术确保自身运行。同时，为商业公司或个人开发者提供了一系列解决方案，帮助他们更快地将交易所、彩票、投票、拍卖、票务等传统业务转化为去中心化的运作模式。加入Cybex社区后，Cybex、商业公司（包括公司股东）、个人开发者和他们的终端用户将会最终形成一个去中心化的自治体系，更为透明、高效、安全地自主运营和维护。

### 基础通证

去中心化自治机构（DAC），是一种可以在没有人为干预的情况下，按照一定业务规则自主运行的组织结构。任何人都可以持有这个机构的"股份"或者通过为这个机构工作获得"股份"，同时，所有持股人可以通过投票决定这个机构的经营方向，参与它的成长并且从中获利。

Cybex就是一个去中心化自治机构，它通过BitShares及其底层石墨烯升级而成的区块链技术确保自身运行。同时，为商业公司或个人开发者提供了一系列解决方案，帮助他们更快地将交易所、彩票、投票、拍卖、票务等传统业务转化为去中心化的运作模式。加入Cybex社区后，Cybex、商业公司（包括公司股东）、个人开发者和他们的终端用户将会最终形成一个去中心化的自治体系，更为透明、高效、安全地自主运营和维护。

### 区块链组件

Cybex将社区成员的责任与义务做了明确的区分，并且具有一套完善的激励体系，鼓励社区成员根据自身能力尽可能多的为社区做出贡献。Cybex成员可以分为5个角色：股东、理事会、见证人、工作人员、市场拓展商。接下来，我们会详细介绍一下如何获取各个角色以及它们对于Cybex的意义。

1. 股东

每一个持有CYB（Cybex的基础通证）的个体都是Cybex的股东。每一枚CYB代表了一张选票，可以在理事会成员和见证人选举中投票，同时也代表了参与Cybex区块链治理的权利。

2. 理事会

理事会由所有股东选举产生，生态系统的一切运营工作均由理事会制定，包括：预算、分工、费用支出等等。目前设置了21个成员席位。任何股东都可以申请成为理事会成员，得票率排名前21位的活跃董事将会自动获得理事会席位。

Cybex区块链本身包含一组可以动态调整的参数，出于去中心化自治机构管理的需要，只要获得半数以上理事会成员赞成，就可以通过调整参数值修改当前的共识机制，其中包括：

* 区块大小，出块间隔等区块链参数；
* 交易、转账的手续费及手续费承担方；
* 见证人工资、工作人员的费用预算，奖励返现的比例和冻结时间等。

3. 见证人（节点）

见证人会收集Cybex内发生的交易，打包经验证的交易，生成并签署区块，然后广播到Cybex网络中。它们的角色近似于比特币生态系统中的矿工，每成功产生一个区块，就可以从预算储备池中获取一笔费用。

预算储备池的容量和每次出块的奖励金额，由所有股东投票决定。

4. 工作人员（预算项目）

预算储备池中的资金不仅能维持Cybex自身的开发和运营，也可以用于促进生态系统的扩张。任何股东都可以通过为Cybex做出贡献获得报酬。

你可以将工作内容、工作开始和结束时间、每日工资（以CYB计）、Cybex账户名称等公布在区块链上。一旦股东投票通过该申请，你就可以成为一名工作人员。

Cybex的区块链参数中，包含了每天可支取的预算总额。所有工作人员当日领取的工资总额不得超过该金额，具体分配策略如下：

* 每日预算从预算储备池中划拨；
* 所有预算项目按照支持票数的得票率从高到低排序；
* 支持率最高的工作人员将优先申领当日工资，其他人员依次排序，直至当日的预算发放完毕位置；
* 支持率最少的工作人员可能由于当日预算发放限额，实际领取工资额小于立项时申请的工资额。

所有项目的工资均已CYB形式发放，工资并非直接打入余额。为了保证工作人员在每日领取工资后，仍然会继续工作，工资需要根据股东制定的方案逐步解冻。

另外有两种虚拟的工作人员，他们不为区块链贡献能力，而是由于其他特殊目的而创建的特殊类型：

* 回收工人

这类工作人员的工资将会全额返还至预算储蓄池。如果他的日工资大于等于当日总预算，并且获得了最高的支持率，所有当日预算会直接被储蓄池回收，其余工作人员均无报酬。如果当日有其他项目的支持率高于回收工人，则高支持率的项目申领完毕后，结余金额将全额返还至预算储蓄池。

* 销毁工人

与回收工人的实现相同，但是其所有报酬将会直接被销毁。

5. 市场拓展商

Cybex的市场拓展商可以通过推荐注册和提升被推荐人的交易活跃度，按一定比例赚取交易手续费提成。这一角色最初的设计目的类似支付宝、微信的服务商机制，是Cybex发展初期拉新的手段之一。

随着整个生态系统的发展，利用Cybex技术进行商业化实践的公司或个人，都可以被称为&quot;市场拓展商&quot;。他们的实践活动让Cybex可以服务于更多的应用场景，从而扩大了CYB的使用范围。此外，各个市场拓展商通过业务间的相互交叉，可以形成一个以CYB为基础通证的良性循环，在Cybex体系内部自激励地形成业务创新。

### 股份授权证明机制

简单的说，DPoS就是由生态系统选举产生的见证人来创建区块。任何股东都可以在Cybex社区内拉票，只要支持票数超过一定占比，就可以&quot;代表（Delegate）&quot;整个网络。如果节点产生的算力不稳定、出现频繁宕机或其他情况，股东可以随时通过投票让备用节点顶替它们的位置。

1. 如何理解DPoS机制

DPoS符合了利益最大化、成本最小化的设计逻辑，即：

* 持币人投票选举出块节点；
* 最大化持币人的盈利；
* 最小化维护网络安全的费用；
* 最大化网络的效能；
* 最小化运行网络的成本。

2. 如何实现DPoS机制

任何共识机制必须回答的问题包括但不仅限于：

* 谁应该产生下一个更新块来应用于数据库？ * 下一个块何时应该生产？ * 什么交易应该包括在该块？ * 协议的变化如何应用？ * 竞争的交易历史应该如何解决？

在DPoS算法中，所有见证人（节点）是完全等价的，它们的职责主要有：

* 提供一台服务器节点，保证节点的正常运行；
* 节点服务器收集网络里的交易；
* 节点验证交易，把交易打包到区块；
* 节点广播区块，其他节点验证后把区块添加到自己的数据库。

Cybex的见证人数量由所有股东决定（CYB持有人），每个股东都可以给任意数量的节点投票。当任意节点获得超过1%的票数（占生态系统总量的比例）时，就有资格成为见证人（节点）。每个节点轮流产生区块，每个节点都完成一次出块后，该轮次结束。所有节点将打乱顺序重新开始新的一轮，每轮的顺序都是在执行前确定的。在见证人工作的同时，股东可以随时进行投票和撤票。活跃见证人的名单会在每个维护间隔（1天）内，基于票数统计结果更新一次。

如果某个节点在其时间段内没有生成区块，那么系统会跳过这段时间，由下一个节点生成下一个区块。如果所有节点都没能生成区块，那么Cybex就会停止运作，股东也无法投票选出新的见证人。这种事件发生的概率很低，为了防止这种情况的出现，股东可以通过投票挑选较多的见证人。

所有人都可以通过观察见证人的参与率来监测网络的健康状况。为了不落选，节点的正常运行时间一般需要维持在99%以上。一旦见证人的参与度低于一定水平，导致交易确认时间延长，Cybex基于其监控机制，可以在故障发生后1分钟内发现问题。

## 账户与会员等级

### 基本概念

在我们开始深入了解Cybex之前，必须先牢记以下几点：

1. 任何人都不能访问您的账户或者操纵里的资金，除非他得到了您的直接授权或者由于您的不谨慎导致他人获得了您的授权。第三方（包括您的注册渠道）都不会对您的账户和资产安全负责，只有您对他们负有全责。
2. 在Cybex的体系内，任何交易行为都不无需通过中介，您将在一个完全自由的平台上进行交易和支付。
3. 所有会影响Cybex区块链本身的决策，都是由全体股东选举出的链上委员会制定的，没有任何一个个体可以对此进行干预或篡改。

下面我们再次明确几个区块链的基本概念。

* 账户

每个用户至少有用一个账户，用户通过账户与Cybex区块链产生关联。区块链账户与传统的银行账户一样，包含个人余额、历史交易记录等等信息。就像企业和个人可以开设多个银行账户一样，注册成为终身会员的用户可以创建多个账户。

* 钱包

Cybex终身会员用户可以注册多个账户，所有这些账户都会存放在同一个钱包内。因此，钱包可以携带多个账户（真实的钱包也可以存放多张银行卡）。当然，用户也可以通过创建多个钱包，分类管理他们的账户。

* 密钥

密钥是成对出现的，由一个私钥和一个公钥组成，用于保护账户和资产的安全，需要尽全力防止他人窃取。私钥就好像银行卡密码，有了私钥就可以操作对应银行账户内的资产。公钥由私钥生成，但无法通过公钥推导得到私钥。公钥的作用是跟签名配合，用来证明私钥的所有权。

好了，接下来我们一起来看一下Cybex的重要概念：账户。

### 账户

每个Cybex账户都必须在区块链上完成注册，系统会为账户分配一个（自增的）唯一的账户ID，允许用户以字符形式设置可读的账户名。账户本身没有密钥，所有操作（如转账、充值、提现）都会与账户名相关联。

在比特币、以太坊使用字符串形式的地址和私钥充当账户时，Cybex的这一设计将账户与密钥区分开来。通过权限和阈值的设置，一个账户的操作可以完全委托其他账户进行认证，而被委托的账户也可以是有另一组账户所认证的。这样就能利用账户的多层级构来进行授权和操作审批，每个账户也可以独立于上层账户之外变更自己的权限, 这样一来就使得权限控制更为灵活。

### 权限

在Cybex体系中，每一个账户的权限可以分为：

1. 活跃权限

作为一种控制资金的快捷方式（Hot Key），可用于除了变更账户权限以外的任何操作。

2. 账户权限

为了冷存储（Cold Storage）所设计，可以修改账户相关的各种设置，主要功能是更新活跃权限或变更账户权限。

3. 备注权限

用于加密备注。

前两者可以通过Cybex账户页面中权限标签进行设定。我们可以对指定账户授权并为其设置权重，只有高于阈值权重的授权账户签署的交易才会被认定为有效。

### 授权

每个Cybex账户都在创建的时候都进行活跃权限和账户权限的授权，即，每个账户都默认分配了一个活跃权限公钥和一个账户权限公钥。

我们需要知道的是：

* 每个授权都是由一个或一组密钥/账户所组成, 每一个都带有权重值；
* 每个授权都有一个阈值（即，权重值的门槛），当一项操作需要授权进行时，都必须要满足这个门槛才能够被执行。

通过权限管理与授权过程相结合的方式，Cybex社区成员可以将账户权限授权给冷钱包（Cold Wallet）公钥，确保私钥不触网，防止黑客窃取。同时，可以把活跃权限配置给其他账户，由他人负责账户资金的日常审批。由于账户权限可以对活跃权限的授权人进行调整，就能够确保账户的所有权永远掌握在自己手里。

此外，这个机制还可以确保任何人都可以频繁更换自己账户的密钥, 而其用户的权限则不受影响。

### 示例

以下几个示例将帮助大家更好地理解这些术语以及它们的使用场景。

假设我们创建了一个新的账户，它的活跃账户权限配置如下（以下内容对账户权限同样适用）：

1. 平权多重签名

一个平权的多重签名可以由M方参与，其中的N个实体必须进行签名才能使交易生效。我们使用Cybex账户的权重和阈值来代替M和N，从而更加灵活的实现相同的功能。

假设Alice，Bob，Charlie和Dennis管理一个共同基金，我们希望只要有2个人同意，我们就能构建一个有效的交易，也就是2-of-4（N-of-M）模式。这个策略可以配置成：

| **账户名** | **权重** |
| --- | --- |
| Alice | 33% |
| Bob | 33% |
| Charlie | 33% |
| Dennis | 33% |
| **阈值** | 51% |

这4个成员每人都有33%的权重，但是阈值设定在50%。这样，至少需要2名成员同意才能获得高于阈值的权重以签署有效交易。

同理，要构建 3-of-4 结构，我们可以降低每个成员的权重值到 17%，或者把阈值门槛提升到 99%。

2. 加权多重签名

通过阈值和权重，我们可以为不同成员分配不同的权重，从而对资金管理实现更精细化的权限控制。假设Alice希望通过多重签名机制来提高资金安全性，但又不想给与他的朋友们过多的控制权，那么，我们可以设定这样的授权：

| **账户** | **权重** |
| --- | --- |
| Alice | 49% |
| Bob | 25% |
| Charlie | 25% |
| Dennis | 10% |
| **阈值** | 51% |

这样，Alice只需要任何一个朋友协助就可以使用资金，而他的3个朋友则必须全部同意才能使用资金。

3. 多级加权多重签名

我们再来看一下，企业常见的对层级组织架构是如何使用Cybex进行权限管理的。这个公司有一个首席财务官，有多个部门向其汇报，包括：Treasurer, Controller, Tax Manager, Accounting等。同时，公司的首席执行官也要求可以使用公司账户进行支付。我们可以这样设计授权账户的结构：

| **账户** | **权重** |
| --- | --- |
| CEO.COMPANY | 51% |
| CFO.COMPANY | 51% |
| **阈值** | 51% |

CEO.COMPANY和CFO.COMPANY各自拥有下设的授权账户。比如 CFO.COMPANY 账户可设置如下：

| **CFO.COMPANY** | **权重** |
| --- | --- |
| Chief.COMPANY | 51% |
| Treasurer.COMPANY | 33% |
| Controller.COMPANY | 33% |
| Tax Manager.COMPANY | 10% |
| Accounting.COMPANY | 10% |
| **阈值** | 51% |

这个设计允许：首席执行官独立使用资金；首席财务官独立使用资金；Treasurer连同Controller一起可以使用资金；Controller或者Treasurer连同Tax Manager或者Accounting可以使用资金。

这样，通过各种授权账户结构设计，可以将权限控制划分为任意层级，从而满足绝大多数企业对资金的管理要求。

4. 备注密钥

交易附带的备注（Memo）是使用备注公钥加密后传输的。为了解密备注信息，需要拥有备注公钥对应的私钥。

Cybex的备注信息由单独公/私钥对进行管理，默认与活跃权限授权账户的公钥相同。通过将其设置为其他第三方公钥，可以让第三方在没有资金控制权限的情况下读取（只读）备注内容。

### 会员等级

Cybex的账户可以分为两类：普通账户和终身会员账户。

普通会员通过一次性缴纳升级费（金额由委员会设置）后，就可以成为终身会员（即VIP账户）。终身会员可以从自己的交易手续费获得一定比例的返现，并且能够从他们引荐或代为支付注册费的用户的交易手续费中获得一定提成。之前提到的Cybex市场拓展商，就需要成为终身会员。

需要注意的是，返现和提成都是以待解冻（Vesting）的形式发放的，交易时仍需要全额支付。

1. 手续费

Cybex内每笔交易都需要支付手续费，不仅包括充值、提现、转账，还包括注册、修改权限等。手续费会按比例分配给Cybex网络（Network）、终身会员引荐人（Lifetime Referrer）、注册人（Registrar）。其中，注册人可以将他获得的比例在他和与他合作的引荐人（Affiliate Referrer）（也必须是终身会员）之间再次分配。

* 待结算手续费

所有交易的手续费将按照维护周期在网络、引荐人、注册人间进行结算。目前Cybex的维护周期为1天，因此T日手续费的结算将发生在T+1日上午8:00。

* 待解冻手续费

小额手续费将立刻进入待结算费用，但是对于大额手续费（如终身会员的升级费、高级账户名的注册费）则需要暂时冻结，并在365天内线性解冻释放。目前，委员会设置的大额手续费下限为100CYB。

2. 引荐人机制

为了便于描述Cybex的引荐人机制，我们先对术语进行一下解释：

* 普通会员：未交付任何会员费用的账户，不享受任何形式的返佣或提成；
* 终身会员：交付了升级费，升级成为终身会员的账户；
* 注册人：为注册新账户支付注册费用的系统内已经存在的账户；
* 引荐人：必须是终身会员账户，可以通过与注册人协商获得手续费分成。

首先需要注意的是，引荐人机制并不是金字塔结构的多级营销模式，它只有两层：引荐人和被引荐人。

Cybex的引荐机制规定，每一笔手续费的分配方式如下：

* Cybex网络收取20%，其余80%由引荐人机制进行分配；
* 引荐人机制中，30%优先分配给终身会员（引荐人），剩余的50%在创建新账户时由注册人进行分配；
* 注册人可以设置引荐人分成N%，100%-N%将由归注册人所有。

任何被引荐人都可以通过升级成为终身会员退出，即，他的引荐人不再从他的手续费内分成，所有手续费（除去网络收取的部分）将全额返还至他本人的账户。

举个例子：终身会员Alice推荐Bob通过X平台注册成为Cybex用户，X平台为Bob支付了注册手续费。Bob进行了一次转账，交易手续费10CYB。其中，网络收取2CYB，Alice拿到3CYB，X平台拿到5CYB。如果Alice和X平台事先约定，他每推荐一个用户，平台将给他10%的返佣的话。那么平台会从5CYB中，再分给Alice0.5CYB。

随着Bob操作次数的增加，他决定升级会员来减免手续费。当他支付了1000CYB升级费用之后，他的10CYB交易费中，将由网络收取2CYB，其余8CYB将在次日上午8:00返现给他本人。此时，如果Bob也想通过引荐人机制赚取手续费提成，有两个方法：一是成为&quot;注册人&quot;，运行水龙头服务替他人完成注册；二是挂靠到其他注册人名下成为&quot;引荐人&quot;。

## 资产和事务

### 资产/通证

Cybex网络由若干资产、通证、数字加密货币组成。从技术角度上讲，所有资产都是平等的，它们或多或少拥有一些相同的特征。因此，它们可以相互交易并且极短的时间内完成转换。

创建资产需要花费一定的手续费，手续费的50%将会优先进入资产费用池，其余50%中的20%将支付给Cybex网络，剩余的80%进入引荐人分配机制。这就意味着，一位终身会员用户创建资产后，在解冻等待期（当前为90天）后，将会至少获得创建手续费的40%作为返现。

1. 用户发行的资产

Cybex为社区成员提供了一种发行资产的能力，允许任何商业公司或个人针对特定的业务场景创建和发行自己的通证，这种资产被称为&quot;用户发行的资产（UIA）&quot;。

UIA是一种用注册在Cybex上的定制化通证，这个通证的持有者可以彼此交易。创建UIA的方式相当简单，只需要设置一些如供应量、通证符号（如：Bitcoin的通证是BTC）、说明等。UIA生成后，发行方可以向任何账户空投、出售这些通证。此外，如果发行方还可以对UIA制定一些规范，如：通过白名单和黑名单来限制通证的持有人。这个过程中，发行方可以不关心任何技术细节，也不需要运行挖矿设备或是服务器。

需要注意的是，用户发行的资产可以由发行方随时从持有人手中回收这些UIA。

以下是一些用户发行的资产案例：

* 奖励积分

商户经常使用积分奖励来保持客户的忠诚度，这些积分累计到一定程度就可以在后续的消费中获得折扣或抵扣金额。在Cybex发行的积分，可以通过交易所进行转让，为商户积分体系增加价值。

* 活动门票

任何活动的门票都可以通过UIA实现，同时，Cybex还可以支持门票拍卖。一些稀缺的门票可以通过竞标转让给出价最高者，得标者也可以再次出售。在活动当天，发行者可以冻结门票交易并开放入场。

* 数字资产

音乐和软件产品可以以数字资产的形式发行，程序可以先确认用户拥有这个资产后才执行播放或安装。即使发行方公司在未来结束营业，通过这种模式发行的音乐和软件仍然可以运行。线上游戏也可以使用UIA来代表游戏道具。

* 众筹

用户可以将发行的资产作为一种可交易的预售券，在产品（或服务）开发前确保筹集到足够的资金。对于在产品交付前想要退出的用户，可以在交易所内出售UIA变现。

* 个人或公司债

许多个人事业（如参加培训、出国进修）或公司业务（如扩张产品线、购买设备）都需要通过债券筹款，这些借款人可以在Cybex发行UIA并通过交易所吸引更多投资者。

3. 交易所支持的资产

EBA是一种由中心化机构（如交易所、银行）发行的存托凭证。发行方相当于维护了一份用户余额的资料库并将其放置在了区块链上，帮助存户之间的资产转移。

对于中心化交易所而言，用户对钱包进行充值时，实际上是将资产存入了交易所账户。用户钱包的余额，仅仅是交易所系统根据内部账户数据为用户提供的数值显示。此时，EBA可以代替内部结算账户作为一种存托凭证发放给用户。由于EBA一种通证，它可以在任何去中心化交易所进行交易。

在发行方需要回收EBA时，用户需要将其重新转入发行的中心化机构，再由发行方将对应的资产交还至用户。

2. 市场锚定的资产（智能资产）

基于Cybex技术创建的智能资产（Smartcoins），是一种可以与任何流通货币加个挂钩的新型数字资产。用户可以通过向Cybex（类似银行）抵押高倍价值的CYB兑换出（借出）智能资产（贷款）。

智能资产的面额总是可以与抵押资产的价值相等，在Cybex体系中，智能资产需要通过抵押基础通证（即CYB）获得。尽管CYB的价格会有波动，但通过市场喂价，智能资产与抵押物的价格将会基本稳定在1:1，甚至略高于抵押资产价格。

MPA与UIA不同的是，UIA的供应量、价格完全掌握在发行方手中，而MPA实现的是一个预测市场机制，由供求双方决定，我们仅需要一个合理的市场价格并且使用另一种资产抵押即可。

为什么MPA需要抵押资产才能借出呢？因为智能资产的发行方并对市场供给量负责，如果用户想要得到智能资产，他必须将抵押物交付给系统。从某种角度上来说，智能资产相当于在区块链上的一笔抵押贷款。

我们以bitUSD为例，当社区成员需要bitUSD时，可以用2倍USD价值的CYB作为保证金在Cybex内盘抵押借出bitUSD，这时bitUSD就被“生产”出来了。生产出的bitUSD可以1倍的价格卖给那些不想持有CYB的人，购买者要支付同等价值的CYB（即1倍）。因此，对整个Cybex系统而言，1个bitUSD就有了2倍用于抵押的CYB和1倍用于兑换的CYB。

智能资产实现的是一个预测市场机制。当有个风险投资爱好者预测到CYB的价格将会相对于锚定资产升值的时候，他们就会以做空bitUSDT的方式向系统借入bitUSDT（需事先抵押相当于这笔资产200%价值的智能资产到系统里），然后系统为他寻找交易对手，将他借入的bitUSDT卖出到那些认为智能资产将要贬值的人手中（这个人买入bitUSDT时出价用的智能资产就是一个额外的100%抵押品，因此对于bitUSDT来说一共会有300%的抵押品）。

如果这个风险投资爱好者的预测对了，智能资产的确在这段时间升值了，那么在这笔bitUSDT借款到期之日他就可以用更少的智能资产去买入相同数量的bitUSDT去归还给系统（平仓），他从中获取了差价的利润，并获得系统归还当初的抵押品。因此，他在平仓的时候提供的买单就是兑换bitUSDT的保证。

如果他想耍赖超过期限都不从市场上回购bitUSDT还给系统，或者他预测的方向错了而智能资产抵押品价值下降超过一定幅度，那么系统就会强制将他的抵押品用于买入bitUSDT来归还欠款，并附加额外的5%价值的罚款，如果有剩余的就返回给他。当抵押金不足以平仓，由系统贮备金代为平仓，补足不足部分，系统储备金来自普通足额平仓的罚息累计。

这就是bitUSDT锚定机制的实现方式——每一个生成的bitUSDT都是由300%市场价值的智能资产在背后担保着的，主动平仓和系统强行平仓去为回购市场上的bitUSDT的行为就是bitUSDT兑换的保证。

3. 私有化的智能资产

除了bitUSD这样的常规MPA之外，Cybex还可以支持发行定制化的智能资产。除了帐户白名单, 市场规范, 交易规范之外, 智能币的发行者还可以控制：

* 抵押金类型
* 初始抵押率
* 维持抵押率
* 强制平仓费用, 滞纳金, 以及每日交易量
* 喂价更新频率
* 全部强制平仓

通过修改这些参数，商业公司可以按照盈利目标发行定制化的智能资产。比如：有些智能资产发行方希望将成交价固定在1美元，那么他们可以通过不断操纵强制结算费来使得平均交易价格保持在1美元左右。

4. 预测市场的资产

预测市场(Prediction Market)属于智能资产的一种特例，因为所有的仓位都在每个价格完全抵押，因此他不需要追加保证金通知或强制平仓。预测市场中的资产价格都介于0到1之间，在预测的事件发生之后，价格就会揭晓。

如果下注结果为真（即喂价为1），所有抵押品就会结算给持有PMA的一方。如果下注结果为假（即喂价为0），所有在市场上售出PMA并做空的人就会获利。

以二元预测市场为例：

假设我们新建了一个预测市场，发行了名为WEATHER20190101，抵押品为CYB。规则设计如下：2019年1月1日23:59:59进行裁决，如果当天下雨，则结果为WEATHER20190101价值等于0；如果当天没有下雨，则价值为1CYB。

截止时间前，任何人都可以以1:1抵押CYB借入WEATHER20190101在市场上出售，或者利用CYB挂单买入WEATHER20190101。

裁决后，如果结果是1，那么WEATHER20190101持有人的资产将1:1兑换为CYB，抵押的CYB将全部用于兑现；如果结果是0，那么持有人手中的WEATHER20190101将自动销毁，抵押的CYB将全部释放。

二元市场实际就是赌大小，市场价格就是赔率。

* 如果你100%认为当天不会下雨，也就是预期资产最终价值是1，那么只要低于1买入就会赚钱；
* 如果你认为当天100%会下雨，也就是预期资产最终价值是0，那么只要高于0卖出就会赚钱；
* 如果当前市场价格（最新成交价）是0.6，说明60%的参与者（资金）认为当天最终会下雨；
* 如果某个时间点，你认为最终下雨的概率是80%，也就是认为资产当前价值是0.8，但是当前市场价与你的预测不同，那么就有获利机会，你就可以选择参与。

###手续费池

在Cybex中，我们提供了一种需要满足行权条件才能兑付的结算方式。在达到要求前，余额一直处于冻结状态。直至满足触发条件，余额才开始按照既定策略开始释放。

账户以下几类收入通常使用待解冻余额形式发放：预算项目的工资、见证人节点的报酬、引荐计划的提成、返现等。

###待解冻余额

在Cybex中，我们提供了一种需要满足行权条件才能兑付的结算方式。在达到要求前，余额一直处于冻结状态。直至满足触发条件，余额才开始按照既定策略开始释放。

账户以下几类收入通常使用待解冻余额形式发放：预算项目的工资、见证人节点的报酬、引荐计划的提成、返现等。

###交易

除了普通资产的转账之外，Cybex实现了很多去中心化交易所的必要操作，如：买入、卖出等等。

1. 普通转账

普通转账操作可以将资产从A账户转移至B账户。与其他区块链不同的是，Cybex体系内的转账可以通过账户名进行，无需提供收款人地址和公钥。

普通转账仅需要提供转账双方的用户名、资产类型、金额和（可选）备注即可。

2. 待审批事务

Cybex运行用户在区块链上发起一个需要多个账户审批（签名）后才能执行的事务。

用户提议执行某一事务，然后拥有签名账户可以选择&quot;授权&quot;或者&quot;不授权&quot;。系统会实时结合账户的权重对该事务是否执行进行评估，即使同意执行的分数未达到阈值，该提议也将会被保留到有效期结束。

在尚未达到门槛钱，任何已经授权的账户都可以撤销自己的授权。同样的，如果在有效期内提议被驳回，已经反对该事务的账户也可以重新同意执行。但需要注意的是，一旦事务的授权人数达到阈值，提议的操作就会立刻执行，并且无法撤回。

Cybex账户体系的权限和授权机制，保证了待审批事务可以通过多重签名的方式实现：

* 某个账户提议了一个事务（如转账、权限修改），并用自己的账户进行批准；
* 其他账户通过广播获取到了该提议，对提议内容&quot;赞成&quot;或&quot;反对&quot;；
* 提议者获得足够多的账户批准后，这个事务就会执行。

在过去，多重签名难以实施的原因在于，搜集各个签名的程序是完全手动的，或者需要经过特殊的框架。一旦签署了交易，也没有办法撤销签名，因此多重签名的多方中, 越后面签名的优势会越大。

为了简化这个过程，Cybex实现了构建于区块链的事务机制来追踪部分完成签名的交易。即使Cybex的账户可以形成任意深度的阶层，每个账户仍然可以添加（或移除）他们的签名，而不需要一个外部系统来循环处理这笔交易。

Cybex的权限和事务设计是以人为对象，而非以密码学为对象，因此它与其他区块链相比更易于使用。每个账户都可以透过其他账户以及私钥的加权组合进行控制，通过创造出多层级式的结构，可以反映出真实情况下的权限管理，并让多用户的资金审批极易实现。

3. 普通资产的买卖

在Cybex系统中，几乎所有资产都可以相互交易。当我们选择两个资产时，他们就成为了一个“交易对”。例如：我们用欧元兑换美元，则交易对为“美元:欧元”。这与我们通常理解的“用多少欧元兑换美元”的表述顺序是相反的，但只是形式上的不一致，表示的意义是一样的。

资产的买卖，实际上是使用的是同一个事务，只是调换了交易对的方向。通过设置价格和数量，可以实现资产的买入和卖出。但发布的卖单信息只是在内盘挂单，需要有买单才能够成交。需要注意的是挂单、撤单都是收手续费（与转账费相同）的，所以不要没事不停地挂单、撤单。

## 钱包

### 云钱包

**云钱包**的实质前端应用（APP、浏览器等）根据注册的用户名和密码在当前应用内衍生出私钥，私钥与新建的Cybex账户关联。由于**云钱包**并未形成存储私钥的容器，当前Web 1.0无法导出备份。用户需要牢记`Cybex账户名+云钱包密码`，**云钱包**密码一旦丢失，无法找回。

1. 注册
创建时需要输入`Cybex账户名+云钱包密码`

2. 登录
云钱包用户可以通过`Cybex账户名+云钱包密码`，在其他浏览器（或前端应用）内重新登录该云钱包。

3. 修改密码
**云钱包** 无法修改、重置密码。**云钱包**密码一旦丢失，无法找回。

### 本地钱包及脑钱包

1. 注册
创建时需要输入`Cybex账户名+本地钱包密码`
注册**本地钱包**的用户，需要在注册并第一次登录后，对钱包文件进行备份。备份文件将以`.bin的格式导出`至设备本地，用户可以指定下载文件的保存位置。**本地钱包**在进行第一次备份前，钱包容器存储在浏览器中，此时如果删除该钱包（即为保存bin文件，但选择删除并退登**本地钱包**），则无法通过注册时的用户名和密码找回钱包。同时，**本地钱包**密码也需要牢记。
除了bin文件备份外，**本地钱包**还提供了**脑钱包**备份方式。创建**脑钱包**备份前，需要为设置**脑钱包**密码，输入完成后，**脑钱包**密钥将以`16个单词`的形式显示，用户可以将助记词复制保存或是（推荐）抄写在纸上。

2. 登录
本地钱包用户可以通过`导入备份bin文件+本地钱包`密码 或者输入`脑钱包密码+16个助记词`的方式进行重新登录。

3. 修改密码
**本地钱包** 可以修改密码。但由于本地钱包密码与bin文件一一对应，每次修改本地钱包密码后，需要重新导出bin文件。使用原密码时导出的bin文件，导入时仍需要使用原密码。因此，在原密码泄露后，仅通过修改密码+重新生成bin文件的方式无法完全确保账户安全，建议将原bin文件删除。

4. 导入钱包
当本地钱包进行过私钥导入后，仅可以通过bin文件将包含导入私钥的钱包进行备份，使用脑钱包备份时，该私钥无法被保存。原因是，助记词是通过钱包根私钥衍生出私钥的方式恢复钱包，而导入私钥并非由原本地钱包的根私钥产生。
导入本地钱包后，本地钱包内存储的私钥关联的Cybex账户将会一并被获取，用户可以通过左上角的账户名列表进行切换。

